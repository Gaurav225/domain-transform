\section{Conclusions}
\fixme{Write.}

In this report we presented a summary of optimization strategies for an edge preserving blurring filter. Even though the baseline implementation was already fast, we got an approximate $2x$ peformance gain in our final code version.

During the course of optimization we got rid of the primitive bottleneck which was the matrix transpose, by writing the data in transposed fashion directly. This allowed us to focus on the iterative part of the algorithm.

The way data is processed gives natural spatial locality and also instruction level paralellism, as 3 colour channels are stored contiguously but computed independently. However this can only be leveraged either by better instruction pipeline usage or vector instructions as discussed earlier. 

We have attempted to analyze the performance bound of our code using roofline plots (see Figure \ref{roofline}). According to this, our fastest version is neither memory or compute bound. This probably means that we are bound by some other unfortunately unidentified factor. 

\comment{
Here you need to briefly summarize what you did and why this is
important. {\em Do not take the abstract} and put it in the past
tense. Remember, now the reader has (hopefully) read the paper, so it
is a very different situation from the abstract. Try to highlight
important results and say the things you really want to get across
(e.g., the results show that we are within 2x of the optimal performance ... 
Even though we only considered the DFT, our optimization
techniques should be also applicable ....) You can also formulate next
steps if you want. Be brief.
}
